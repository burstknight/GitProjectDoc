# 專案管理指南
當我們使用Git開發專案時，假如有很多人會一起維護這個專案，最好事先規劃好一些規則讓大家遵守，否則大家各做各的可能會出狀況。本文主要是針對這部分提供一些建議，當然只要跟團隊的所有成員講好，也可以不用完全使用本文的建議。

## 提交訊息的規範
這邊要介紹用於提交訊息的規範，它可以讓我們在未來看歷史紀錄時，可以在不用閱讀程式碼的情況下，知道每次修改都更動了哪些檔案，以及為何修改。

提交訊息時最好使用`git commit`，這會讓Git打開編輯器讓我們輸入訊息。使用這種方式，我們比較能夠寫出更詳細的訊息，也可花點時間思考一下，應該怎麼寫比較能夠讓別人看得懂。提交訊息的格式可以參考下面：
```
<Type>:[<Scope>]: <Subject>

<Body>

[<Footer>]
```
後面幾個小節會一一說明每個欄位的用途。

### Type: 提交訊息的類型
`<Type>`這個欄位用來分類提交訊息的類型，當閱讀者在查閱歷史紀錄時，可以從這個欄位知道每次提交的訊息是不是他想看的，這可以節省很多時間。可用的類型如下表：

類型        | 說明
------------|-------------------------------------
feat        | 新增或是修改功能
fix         | 修正BUG
doc         | 更動專案中的文件，或是更動程式碼裡面的註解
refactor    | 重構程式碼，但是這不是為了修正BUG或是新增功能
style       | 主要針對撰寫程式碼的風格來修改
perf        | 修改程式碼來提升執行效能
test        | 增加用來測試的程式碼
chore       | 更動輔助工具，比方說用來建置專案程式碼的腳本檔
revert      | 撤銷先前提交的修改
remove      | 移除不需要的程式碼或功能

### Scope: 涵蓋範圍
`<Scope>`這個欄位是用來說明提交訊息時，修改的涵蓋範圍，比方說式資料庫、控制層之類的，這部分會因專案而有所不同。主要是讓閱讀者知道這次修改的幅度大小，以及修改的方向。這個欄位非必要，所以也可以不填

### Subject: 提交訊息的標題
`<Subject>`這個欄位是提交訊息的標題。這個部分請用簡短的文字說明修改了哪些東西，最好不要超過50個字元。由於這個欄位填入的不是句子，結尾不要使用句號。基本上只要用簡短的文字說明修改的重點即可。**這個欄位是必須填寫的。**

### Body: 詳細說明修改內容
`<Body>`這個欄位是**必須填寫的**，這邊請用更詳細的文字說明，修改了哪些程式碼，以及為何需要修改。這可以讓閱讀者在不需要查閱程式碼的情況下，可以

### Footer: 填寫任務編碼
`<Footer>`這個欄位主要用於說明這次修改主要是針對哪一個任務編碼。假如沒有任務編碼，這個欄位可以不填。

### 範例
看到這邊應該還是不知道該怎麼寫吧，這裡提供幾個範例。

假設我們正在開發一款遊戲，我們在遊戲中新增功能讓主角可以飛行。這個時候提交的訊息可以這樣寫：
```
feat: 主角可以飛行

新增類別myFlyAction，來實現主角可以飛行。
```

如果我們發現剛剛用來實現飛行功能的程式碼有BUG，而且我們也已經修正完成。假設這個問題有任務編號，這個編號是111，提交的訊息可以這樣寫：
```
fix: 飛行超出邊界

問題：
1. 主角飛行時會超出畫面的邊界
2. 敵人飛行時會異常閃爍

原因:
1. 成員函數fly()計算主角下一個時間點的位置的數學公式有誤，導致主角會超出邊界
2. 成員函數fly()使用比較沒有效率的實作方式，讓敵人飛行時會閃爍

調整項目：
1. 修正計算下一個時間點位置的數學公式
2. 使用更有效率的方式來時做成員函數fly()

issue #111
```

提交的訊息可以用中文，也可以用英文，只要團隊所有成員都看得懂，就沒什麼問題。這邊再給英文的範例，我習慣會在`<Subject>`欄位的第一個字母使用大寫，主要是跟前面的標籤區分。
```
doc: Remove useless comments

The comments cannot offer usalful information, so I remove them.
```

## 設定提交訊息的樣板
前一章提過使用一些規範來提交訊息，讓團隊其他成員只要閱讀歷史紀錄就可以很快進入狀況。剛使用前一章的內容來提交訊息，應該會覺得要記憶這麼多事情很麻煩，那麼有沒有什麼方法可以輔助我們呢？

我們可以先建一個樣板，裡面先寫好提交訊息的格式，然後設定專案在使用`git commit`就會把這個樣板讀進來。這邊提供一個簡單的範例：
```
#feat/fix/remove/doc
#:

# Why is it necessary? (Bug fix? Add new functions?)
#-

#[issue #id]
```
那個符號`#`代表註解，所以當我們編輯完訊息，Git不會處理那些用`#`後面的文字。假設這個檔案命名為`git_commit_template`，然後這個檔案放在目錄`~`中，其中`~`這個目錄在Linux中是指使用者的家目錄，在Windows中則是`C:\Users\{user}`，這個`{user}`就是你所使用的帳號。其實這個檔案可以放在任何地方，只要你找得到就沒什麼問題。現在我們試著在專案`testGit`中，設定使用這個樣板檔案，我們所使用的指令如下：
```bash
$ git config commit.template <template_path>
# <template_path>   :   樣板檔案的路徑

$ git config commit.template ~/git_commit_template

```
我們只要在指令`git config commit.template`後面接上樣板檔案的所在路徑即可。

如果有使用VIM，就會知道可以在編輯模式下按`Ctrl`與`N`來自動補齊。只要預先設定好樣板，以後在使用`git commit`就會非常有效率。